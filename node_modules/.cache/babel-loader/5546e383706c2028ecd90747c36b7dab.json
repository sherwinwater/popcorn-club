{"ast":null,"code":"var _jsxFileName = \"/Users/yumie/Desktop/Programming/Project/MyProject/popcorn-club/src/pages/Movies.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport * as AiIcons from 'react-icons/ai';\nimport tmdb from '../apis/tmdb';\nimport MovieRow from '../components/movies/MovieRow';\nimport styles from './Movies.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst base_url = 'https://image.tmdb.org/t/p/original'; // const url =\n//   'https://api.themoviedb.org/3/movie/popular?api_key=8a45061d820fb7b5b5f574766f028ff6';\n\nconst Movies = () => {\n  _s();\n\n  const [movie, setMovie] = useState([]);\n  const [curSlide, setCurSlide] = useState(0); // const [activeIndex, setActiveIndex] = useState(0);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      // try to fetch only english movies\n      const response = await tmdb.get('/movie/popular?api_key=8a45061d820fb7b5b5f574766f028ff6'); // console.log(response.data.results);\n\n      console.log(response.data.results.slice(0, 3));\n      setMovie(response.data.results.slice(0, 3));\n    };\n\n    fetchData();\n  }, []); // const slider = () => {\n  //   const slides = document.querySelectorAll('.slide');\n  //   const btnLeft = document.querySelector('.slider__btn--left');\n  //   const btnRight = document.querySelector('.slider__btn--right');\n  //   const goToSlide = function (slide) {\n  //     slides.forEach(\n  //       (s, i) => (s.style.transform = `translateX(${100 * (i - slide)}%)`)\n  //     );\n  //   };\n  //   const init = function () {\n  //     goToSlide(0);\n  //     createDots();\n  //   };\n  //   init();\n  // };\n\n  const maxSlide = movie.length; // const goToSlide = (slide) => {\n  //   // movie.forEach(\n  //   //   (item, i) => (s.style.transform = `translateX(${100 * (i - slide)}%)`)\n  //   // );\n  //   return `translateX(${100 * (0 - slide)}%)`\n  // };\n\n  const nextSlide = () => {\n    if (curSlide === maxSlide - 1) {\n      setCurSlide(0);\n    } else {\n      setCurSlide(curSlide + 1);\n    } // goToSlide(curSlide);\n\n  };\n\n  const prevSlide = () => {\n    if (curSlide === 0) {\n      setCurSlide(maxSlide - 1);\n    } else {\n      setCurSlide(curSlide - 1);\n    } // goToSlide(curSlide);\n\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.movies,\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: styles.title,\n      children: \"Movies\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.slider,\n      children: [movie.map((item, i) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.slide,\n          style: {\n            transform: `translateX(${100 * (i - curSlide)}%)`\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.img,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: styles.poster,\n              src: `https://image.tmdb.org/t/p/original${item.backdrop_path}`,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.name,\n            children: \"title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles['btn-left'],\n        onClick: prevSlide,\n        children: /*#__PURE__*/_jsxDEV(AiIcons.AiOutlineLeft, {\n          className: styles['btn-icon']\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles['btn-right'],\n        onClick: nextSlide,\n        children: /*#__PURE__*/_jsxDEV(AiIcons.AiOutlineRight, {\n          className: styles['btn-icon']\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MovieRow, {\n      url: \"/movie/popular?api_key=8a45061d820fb7b5b5f574766f028ff6\",\n      category: \"Popular\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MovieRow, {\n      url: \"/movie/top_rated?api_key=8a45061d820fb7b5b5f574766f028ff6\",\n      category: \"Top Rated\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MovieRow, {\n      url: \"/movie/upcoming?api_key=8a45061d820fb7b5b5f574766f028ff6\",\n      category: \"Upcoming\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MovieRow, {\n      url: \"/movie/popular?api_key=8a45061d820fb7b5b5f574766f028ff6\",\n      category: \"Popular\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this); // as props: category(popular, toprated...),\n}; // const Row = ({ title, fetchUrl, isLargeRow }) => {\n//   const [movies, setMovies] = useState([]);\n//   const [trailerUrl, setTrailerUrl] = useState('');\n//   // Run once when the row loads, and don't run again.\n//   useEffect(() => {\n//     const fetchData = async () => {\n//       const response = await tmdb.get(fetchUrl);\n//       // console.log(response.data.results);\n//       setMovies(response.data.results);\n//     };\n//     fetchData();\n//   }, [fetchUrl]);\n//   const opts = {\n//     height: '390',\n//     width: '100%',\n//     playerVars: {\n//       autoplay: 1,\n//     },\n//   };\n//   // console.log(movies);\n//   const onClick = (movie) => {\n//     if (trailerUrl) {\n//       setTrailerUrl('');\n//     } else {\n//       movieTrailer(movie?.name || '')\n//         .then((url) => {\n//           const urlParams = new URLSearchParams(new URL(url).search);\n//           console.log(urlParams);\n//           setTrailerUrl(urlParams.get('v'));\n//         })\n//         .catch((err) => console.log(err));\n//     }\n//   };\n//   // poser_path looks like \"/2ST6l4WP7ZfqAetuttBqx8F3AAH.jpg\", and that's not a complete url. We need to append that to the base_url.\n//   const renderedMovies = movies.map((movie) => {\n//     return (\n//       <img\n//         onClick={() => onClick(movie)}\n//         className={`row__poster ${isLargeRow && 'row__posterLarge'}`}\n//         src={`${base_url}${\n//           isLargeRow ? movie.poster_path : movie.backdrop_path\n//         }`}\n//         alt={movie.name}\n//         key={movie.id}\n//       />\n//     );\n//   });\n//   return (\n//     <div className=\"row\">\n//       <h2>{title}</h2>\n//       <div className=\"row__posters\">{renderedMovies}</div>\n//       {trailerUrl && <YouTube videoId={trailerUrl} opts={opts} />}\n//     </div>\n//   );\n// };\n\n\n_s(Movies, \"iTI70Hhw8/QbtiGcVEwrtyviR6s=\");\n\n_c = Movies;\nexport default Movies;\n\nvar _c;\n\n$RefreshReg$(_c, \"Movies\");","map":{"version":3,"sources":["/Users/yumie/Desktop/Programming/Project/MyProject/popcorn-club/src/pages/Movies.js"],"names":["React","useState","useEffect","AiIcons","tmdb","MovieRow","styles","base_url","Movies","movie","setMovie","curSlide","setCurSlide","fetchData","response","get","console","log","data","results","slice","maxSlide","length","nextSlide","prevSlide","movies","title","slider","map","item","i","slide","transform","img","poster","backdrop_path","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport * as AiIcons from 'react-icons/ai';\nimport tmdb from '../apis/tmdb';\nimport MovieRow from '../components/movies/MovieRow';\nimport styles from './Movies.module.css';\n\nconst base_url = 'https://image.tmdb.org/t/p/original';\n// const url =\n//   'https://api.themoviedb.org/3/movie/popular?api_key=8a45061d820fb7b5b5f574766f028ff6';\n\nconst Movies = () => {\n  const [movie, setMovie] = useState([]);\n  const [curSlide, setCurSlide] = useState(0);\n  // const [activeIndex, setActiveIndex] = useState(0);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      // try to fetch only english movies\n      const response = await tmdb.get(\n        '/movie/popular?api_key=8a45061d820fb7b5b5f574766f028ff6'\n      );\n\n      // console.log(response.data.results);\n      console.log(response.data.results.slice(0, 3));\n      setMovie(response.data.results.slice(0, 3));\n    };\n\n    fetchData();\n  }, []);\n\n  // const slider = () => {\n  //   const slides = document.querySelectorAll('.slide');\n  //   const btnLeft = document.querySelector('.slider__btn--left');\n  //   const btnRight = document.querySelector('.slider__btn--right');\n\n  //   const goToSlide = function (slide) {\n  //     slides.forEach(\n  //       (s, i) => (s.style.transform = `translateX(${100 * (i - slide)}%)`)\n  //     );\n  //   };\n\n  //   const init = function () {\n  //     goToSlide(0);\n  //     createDots();\n\n  //   };\n  //   init();\n  // };\n\n  const maxSlide = movie.length;\n\n  // const goToSlide = (slide) => {\n  //   // movie.forEach(\n  //   //   (item, i) => (s.style.transform = `translateX(${100 * (i - slide)}%)`)\n  //   // );\n\n  //   return `translateX(${100 * (0 - slide)}%)`\n  // };\n\n  const nextSlide = () => {\n    if (curSlide === maxSlide - 1) {\n      setCurSlide(0);\n    } else {\n      setCurSlide(curSlide + 1);\n    }\n\n    // goToSlide(curSlide);\n  };\n\n  const prevSlide = () => {\n    if (curSlide === 0) {\n      setCurSlide(maxSlide - 1);\n    } else {\n      setCurSlide(curSlide - 1);\n    }\n    // goToSlide(curSlide);\n  };\n\n  return (\n    <div className={styles.movies}>\n      <h3 className={styles.title}>Movies</h3>\n      <div className={styles.slider}>\n        {movie.map((item, i) => {\n          return (\n            <div\n              className={styles.slide}\n              style={{ transform: `translateX(${100 * (i - curSlide)}%)` }}\n            >\n              {/* <div key={movie.id} className={styles.hero}> */}\n              <div className={styles.img}>\n                <img\n                  className={styles.poster}\n                  src={`https://image.tmdb.org/t/p/original${item.backdrop_path}`}\n                  alt=\"\"\n                />\n              </div>\n              <p className={styles.name}>title</p>\n              {/* </div> */}\n            </div>\n          );\n        })}\n        <button className={styles['btn-left']} onClick={prevSlide}>\n          <AiIcons.AiOutlineLeft className={styles['btn-icon']} />\n        </button>\n        <button className={styles['btn-right']} onClick={nextSlide}>\n          <AiIcons.AiOutlineRight className={styles['btn-icon']} />\n        </button>\n      </div>\n      <MovieRow\n        url=\"/movie/popular?api_key=8a45061d820fb7b5b5f574766f028ff6\"\n        category=\"Popular\"\n      />\n      <MovieRow\n        url=\"/movie/top_rated?api_key=8a45061d820fb7b5b5f574766f028ff6\"\n        category=\"Top Rated\"\n      />\n      <MovieRow\n        url=\"/movie/upcoming?api_key=8a45061d820fb7b5b5f574766f028ff6\"\n        category=\"Upcoming\"\n      />\n      <MovieRow\n        url=\"/movie/popular?api_key=8a45061d820fb7b5b5f574766f028ff6\"\n        category=\"Popular\"\n      />\n    </div>\n  );\n\n  // as props: category(popular, toprated...),\n};\n\n// const Row = ({ title, fetchUrl, isLargeRow }) => {\n//   const [movies, setMovies] = useState([]);\n//   const [trailerUrl, setTrailerUrl] = useState('');\n\n//   // Run once when the row loads, and don't run again.\n//   useEffect(() => {\n//     const fetchData = async () => {\n//       const response = await tmdb.get(fetchUrl);\n//       // console.log(response.data.results);\n//       setMovies(response.data.results);\n//     };\n\n//     fetchData();\n//   }, [fetchUrl]);\n\n//   const opts = {\n//     height: '390',\n//     width: '100%',\n//     playerVars: {\n//       autoplay: 1,\n//     },\n//   };\n\n//   // console.log(movies);\n\n//   const onClick = (movie) => {\n//     if (trailerUrl) {\n//       setTrailerUrl('');\n//     } else {\n//       movieTrailer(movie?.name || '')\n//         .then((url) => {\n//           const urlParams = new URLSearchParams(new URL(url).search);\n//           console.log(urlParams);\n//           setTrailerUrl(urlParams.get('v'));\n//         })\n//         .catch((err) => console.log(err));\n//     }\n//   };\n\n//   // poser_path looks like \"/2ST6l4WP7ZfqAetuttBqx8F3AAH.jpg\", and that's not a complete url. We need to append that to the base_url.\n//   const renderedMovies = movies.map((movie) => {\n//     return (\n//       <img\n//         onClick={() => onClick(movie)}\n//         className={`row__poster ${isLargeRow && 'row__posterLarge'}`}\n//         src={`${base_url}${\n//           isLargeRow ? movie.poster_path : movie.backdrop_path\n//         }`}\n//         alt={movie.name}\n//         key={movie.id}\n//       />\n//     );\n//   });\n\n//   return (\n//     <div className=\"row\">\n//       <h2>{title}</h2>\n//       <div className=\"row__posters\">{renderedMovies}</div>\n//       {trailerUrl && <YouTube videoId={trailerUrl} opts={opts} />}\n//     </div>\n//   );\n// };\n\nexport default Movies;\n"]},"metadata":{},"sourceType":"module"}